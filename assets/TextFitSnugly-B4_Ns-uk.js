import{n as h,w as N,L as B,s as v,M as D,N as M,S as U,i as W,e as z,a as S,b as C,c as x,O as P,t as E,j as A,y as I,D as V,E as G,P as H,H as J,I as K,J as L,K as Q,h as X,Q as Y,R as Z,x as tt}from"./Container-CjJH685M.js";const m=[];function w(e,t){return{subscribe:et(e,t).subscribe}}function et(e,t=h){let n;const i=new Set;function s(a){if(v(e,a)&&(e=a,n)){const c=!m.length;for(const l of i)l[1](),m.push(l,e);if(c){for(let l=0;l<m.length;l+=2)m[l][0](m[l+1]);m.length=0}}}function o(a){s(a(e))}function r(a,c=h){const l=[a,c];return i.add(l),i.size===1&&(n=t(s,o)||h),a(e),()=>{i.delete(l),i.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:r}}function k(e,t,n){const i=!Array.isArray(e),s=i?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=t.length<2;return w(n,(r,a)=>{let c=!1;const l=[];let d=0,_=h;const g=()=>{if(d)return;_();const f=t(i?l[0]:l,r,a);o?r(f):_=D(f)?f:h},y=s.map((f,p)=>N(f,b=>{l[p]=b,d&=~(1<<p),c&&g()},()=>{d|=1<<p}));return c=!0,g(),function(){B(y),_(),c=!1}})}const R=window.nodecg,nt=w([],e=>{R.Replicant("commentatorArray","speedcontrol-additions").on("change",t=>{e(t)})}),ut=e=>k(nt,t=>t.filter(n=>n.assignedRunIdArray.includes(e))),st=w([],e=>{R.Replicant("speedcontrolUserAdditionArray","speedcontrol-additions").on("change",t=>{e(t)})}),T=window.nodecg,j=w([],e=>{T.Replicant("runDataArray","nodecg-speedcontrol").on("change",t=>{e(t)})}),F=w(void 0,e=>{T.Replicant("runDataActiveRun","nodecg-speedcontrol").on("change",t=>{e(t)})}),ft=k([j,F],([e,t])=>{if(!t)return;const n=e.findIndex(i=>i.id===t.id);return e[n+1]}),pt=k([j,F],([e,t])=>{if(!t)return[];const n=e.findIndex(i=>i.id===t.id);return e.slice(n,n+3)}),_t=e=>k([F,st],([t,n])=>{var o,r;let i=((o=n.find(a=>a.id===e))==null?void 0:o.social)??{};console.log(i);const s=(r=t==null?void 0:t.teams.flatMap(a=>a.players).find(a=>a.id===e))==null?void 0:r.social.twitch;return s&&(i.twitch=s),console.log(i),i});function q(e){const t=e-1;return t*t*t+1}function ht(e){return-.5*(Math.cos(Math.PI*e)-1)}function gt(e,{delay:t=0,duration:n=400,easing:i=q,x:s=0,y:o=0,opacity:r=0}={}){const a=getComputedStyle(e),c=+a.opacity,l=a.transform==="none"?"":a.transform,d=c*(1-r),[_,g]=M(s),[y,f]=M(o);return{delay:t,duration:n,easing:i,css:(p,b)=>`
			transform: ${l} translate(${(1-p)*_}${g}, ${(1-p)*y}${f});
			opacity: ${c-d*b}`}}function ot(e,{delay:t=0,duration:n=400,easing:i=q,axis:s="y"}={}){const o=getComputedStyle(e),r=+o.opacity,a=s==="y"?"height":"width",c=parseFloat(o[a]),l=s==="y"?["top","bottom"]:["left","right"],d=l.map(u=>`${u[0].toUpperCase()}${u.slice(1)}`),_=parseFloat(o[`padding${d[0]}`]),g=parseFloat(o[`padding${d[1]}`]),y=parseFloat(o[`margin${d[0]}`]),f=parseFloat(o[`margin${d[1]}`]),p=parseFloat(o[`border${d[0]}Width`]),b=parseFloat(o[`border${d[1]}Width`]);return{delay:t,duration:n,easing:i,css:u=>`overflow: hidden;opacity: ${Math.min(u*20,1)*r};${a}: ${u*c}px;padding-${l[0]}: ${u*_}px;padding-${l[1]}: ${u*g}px;margin-${l[0]}: ${u*y}px;margin-${l[1]}: ${u*f}px;border-${l[0]}-width: ${u*p}px;border-${l[1]}-width: ${u*b}px;`}}function $(e,t,n){const i=e.slice();return i[6]=t[n],i[8]=n,i}function O(e,t){let n,i;return{key:e,first:null,c(){n=S("div"),C(n,"class","brick svelte-12j94t6"),I(n,"opacity",(t[0]+1-t[8])/(t[0]+1)),this.first=n},m(s,o){x(s,n,o)},p(s,o){t=s,o&3&&I(n,"opacity",(t[0]+1-t[8])/(t[0]+1))},i(s){s&&(i||V(()=>{i=G(n,ot,{duration:500}),i.start()}))},o:h,d(s){s&&A(n)}}}function it(e){let t,n=[],i=new Map,s=z(e[1]);const o=r=>r[6];for(let r=0;r<s.length;r+=1){let a=$(e,s,r),c=o(a);i.set(c,n[r]=O(c,a))}return{c(){t=S("div");for(let r=0;r<n.length;r+=1)n[r].c();C(t,"class","stack svelte-12j94t6")},m(r,a){x(r,t,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null)},p(r,[a]){a&3&&(s=z(r[1]),n=P(n,a,o,1,r,s,i,t,H,O,null,$))},i(r){for(let a=0;a<s.length;a+=1)E(n[a])},o:h,d(r){r&&A(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function at(e,t,n){let{size:i=10}=t,{stop:s=!1}=t,o=[...Array(i)].map((a,c)=>c);const r=Math.floor(Math.random()*3e3)+1e3;return s||setInterval(()=>{n(1,o=[Math.max(...o)+1,...o]),setTimeout(()=>{n(1,o=[...o.slice(0,i+1)])},500)},r),e.$$set=a=>{"size"in a&&n(0,i=a.size),"stop"in a&&n(2,s=a.stop)},e.$$.update=()=>{e.$$.dirty&1,e.$$.dirty&1},[i,o,s]}class mt extends U{constructor(t){super(),W(this,t,at,it,v,{size:0,stop:2})}}function rt(e){let t,n;const i=e[3].default,s=J(i,e,e[2],null);return{c(){t=S("span"),s&&s.c()},m(o,r){x(o,t,r),s&&s.m(t,null),e[4](t),n=!0},p(o,[r]){s&&s.p&&(!n||r&4)&&K(s,i,o,o[2],n?Q(i,o[2],r,null):L(o[2]),null)},i(o){n||(E(s,o),n=!0)},o(o){X(s,o),n=!1},d(o){o&&A(t),s&&s.d(o),e[4](null)}}}function ct(e,t){if(!e)return;const n=parseFloat(e.style.fontSize.replace("em","")),i=e.getBoundingClientRect().width;if(i/n>t)return;const s=t/i;e.style.fontSize=s>1?"":`${s}em`}function lt(e,t,n){let{$$slots:i={},$$scope:s}=t,{maxWidth:o=Number.MAX_SAFE_INTEGER}=t,r;Y(async()=>{await Z(),ct(r,o)});function a(c){tt[c?"unshift":"push"](()=>{r=c,n(0,r)})}return e.$$set=c=>{"maxWidth"in c&&n(1,o=c.maxWidth),"$$scope"in c&&n(2,s=c.$$scope)},[r,o,s,i,a]}class yt extends U{constructor(t){super(),W(this,t,lt,rt,v,{maxWidth:1})}}export{mt as S,yt as T,F as a,w as b,ut as c,k as d,ht as e,gt as f,ft as n,pt as r,_t as s};
